<%- include('./partials/header') %>

<% if (error && error.length > 0) { %>
  <div id="flash-message" class="fixed top-5 left-1/2 -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-opacity duration-500 opacity-100">
    <%= error %>
  </div>
<% } %>

<% if (success && success.length > 0) { %>
  <div id="flash-message" class="fixed top-5 left-1/2 -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-opacity duration-500 opacity-100">
    <%= success %>
  </div>
<% } %>

<script>
  // Auto-hide flash message after 3 seconds
  window.addEventListener('DOMContentLoaded', () => {
    const flash = document.getElementById('flash-message');
    if (flash) {
      setTimeout(() => {
        // Fade out by changing opacity
        flash.style.opacity = '0';
        // After transition remove element from DOM
        setTimeout(() => flash.remove(), 500);
      }, 3000);
    }
  });
</script>

<!-- Your existing page content -->

<div class="w-full min-h-screen flex flex-col lg:flex-row bg-gray-50">
  <!-- Register Section -->
  <div class="w-full lg:w-1/2 flex items-center justify-center p-10">
    <div class="bg-white shadow-lg rounded-2xl p-10 w-full max-w-md">
      <h3 class="text-3xl font-bold mb-2">Welcome to <span class="text-blue-500">Scatch</span></h3>
      <p class="text-gray-500 mb-6">Create your account to get started</p>
      <form autocomplete="off" action="/users/register" method="post" class="space-y-4">
        <input
          class="bg-gray-100 w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
          type="text" placeholder="Full Name" name="fullname" required>
        <input
          class="bg-gray-100 w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
          type="email" placeholder="Email" name="email" required>
        <input
          class="bg-gray-100 w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
          type="password" placeholder="Password" name="password" required>
        <button
          class="w-full py-3 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-semibold transition duration-200"
          type="submit">
          Create My Account
        </button>
      </form>
    </div>
  </div>

  <!-- Login Section -->
  <div class="w-full lg:w-1/2 flex items-center justify-center p-10 bg-gradient-to-br from-blue-50 to-blue-100">
    <div class="bg-white shadow-lg rounded-2xl p-10 w-full max-w-md">
      <h4 class="text-2xl font-bold mb-2">Login to your account</h4>
      <p class="text-gray-500 mb-6">Access your personalized dashboard</p>
      <form autocomplete="off" action="/users/login" method="post" class="space-y-4">
        <input
          class="bg-gray-100 w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
          type="email" placeholder="Email" name="email" required>
        <input
          class="bg-gray-100 w-full px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
          type="password" placeholder="Password" name="password" required>
        <button
          class="w-full py-3 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-semibold transition duration-200"
          type="submit">
          Login
        </button>
      </form>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>
